<!--
Overrides content of storybook layout HTML page <head> tag,
-->

<link rel="shortcut icon" href="https://raw.githubusercontent.com/vuelessjs/vueless-storybook/main/public/favicons/favicon.ico">
<link rel="icon" type="image/svg+xml" href="https://raw.githubusercontent.com/vuelessjs/vueless-storybook/main/public/favicons/favicon.svg" />

<!--
Custom dark mode related vueless loader.
-->
<div id="sb-vueless-loader">
  <img
    class="sb-vueless-loader-img-dark"
    src="https://raw.githubusercontent.com/vuelessjs/vueless-storybook/main/public/images/vueless-logo-dark.svg"
    alt="Vueless UI"
    width="250" />

  <img
    class="sb-vueless-loader-img-light"
    src="https://raw.githubusercontent.com/vuelessjs/vueless-storybook/main/public/images/vueless-logo-light.svg"
    alt="Vueless UI"
    width="250" />
</div>

<style>
  /* -------------------- Prevent showing users default storybook theme styles -------------------- */

  html.dark {
    background: #111827;
  }

  #root {
    visibility: hidden;
  }

  #sb-vueless-loader {
    top: 0;
    left: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    background: inherit;
    width: 100%;
    height: 100%;
    z-index: 999;
  }

  .light #sb-vueless-loader {
    background: #f1f5f9;
  }

  .dark #sb-vueless-loader {
    background: #111827;
  }

  .sb-vueless-loader-img-dark,
  .sb-vueless-loader-img-light {
    display: none;
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  .light .sb-vueless-loader-img-light {
    display: block;
  }

  .dark .sb-vueless-loader-img-dark {
    display: block;
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: .5;
    }
  }

  /* -------------------- Storybook config tooltip -------------------- */

  div[data-testid="tooltip"] {
    border-radius: 8px;
    overflow: hidden;
  }

  div[data-testid="tooltip"] a[id]:hover,
  div[data-testid="tooltip"] button[id]:hover {
    background-color: rgb(17 24 39 / 5%) !important;
  }

  .dark div[data-testid="tooltip"] a[id]:hover,
  .dark div[data-testid="tooltip"] button[id]:hover {
    background-color: rgb(255 255 255 / 5%) !important;
  }

  /* -------------------- Storybook sidebar -------------------- */

  .dark .sidebar-container {
    background: #020713;
  }

  .sidebar-header img {
   width: 150px;
  }

  .sidebar-header a:focus {
    border: 1px solid transparent;
  }

  .sidebar-item {
      border-radius: 6px !important;
  }

  .dark .sidebar-item:hover {
      background: #101828 !important;
  }

  .dark .sidebar-item[data-selected="true"],
  .dark .sidebar-item[data-selected="true"]:hover {
      background: #1f2937 !important;
  }



  .search-field,
  .search-result-item {
      border-radius: 8px !important;
  }

  .sidebar-item,
  .search-result-item {
    text-transform: capitalize;
  }

  .light .sidebar-item svg[type="component"],
  .light .search-result-item svg[type="component"],
  .dark .search-result-item mark {
      color: #10b981;
  }

  .dark .sidebar-item svg[type="component"],
  .dark .search-result-item svg[type="component"],
  .light .search-result-item mark {
      color: #059669;
  }

  .light .sidebar-item svg[type="document"],
  .light .sidebar-item svg[type="story"],
  .light .search-result-item svg[type="document"],
  .light .search-result-item svg[type="story"] {
      color: #9ca3af;
  }

  .dark .sidebar-item svg[type="document"],
  .dark .sidebar-item svg[type="story"],
  .dark .search-result-item svg[type="document"],
  .dark .search-result-item svg[type="story"] {
      color: #4b5563;
  }

  #sidebar-bottom-wrapper {
      display: none;
  }

  /* -------------------- Storybook args -------------------- */

  .dark,
  .dark #panel-tab-content div,
  .dark .docblock-argstable-body > tr > td {
    background: #030712 !important;
  }

  .light,
  .light #panel-tab-content div,
  .light .docblock-argstable-body > tr > td {
    background: #f9fafb !important;
  }

  .dark .docblock-argstable-head > tr {
    background: #1e293b !important;
  }

  .dark .docblock-argstable-body tr > td textarea,
  .dark .docblock-argstable-body tr > td select,
  .dark .docblock-argstable-body tr > td:last-child button:not([tabindex="-1"]) {
    background: #111827;
    border: solid 1px #1f2937;
    box-shadow: none;
  }

  .light .docblock-argstable-body tr > td:last-child button:not([tabindex="-1"]) {
    background: white;
  }
</style>

<script>
  /* This trick prevents showing users default storybook theme */
  (() => {
    window.onload = function() {
      setTimeout(() => {
        document.getElementById("root").style.visibility = 'visible';
        document.getElementById("sb-vueless-loader").style.display = 'none';
      }, 1500);
    };
  })();
</script>
